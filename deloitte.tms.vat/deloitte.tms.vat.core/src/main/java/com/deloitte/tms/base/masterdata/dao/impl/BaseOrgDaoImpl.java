package com.deloitte.tms.base.masterdata.dao.impl;
// Generated by bo.wang with ling2.autoproject

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Component;
import org.springframework.util.CollectionUtils;

import com.deloitte.tms.pl.core.commons.support.DaoPage;
import com.deloitte.tms.pl.core.commons.utils.AssertHelper;
import com.deloitte.tms.pl.core.dao.impl.BaseDao;
import com.deloitte.tms.base.masterdata.model.BaseOrg;
import com.deloitte.tms.base.masterdata.model.BaseUserOrg;
import com.deloitte.tms.base.masterdata.model.TmsMdLegalEntity;
import com.deloitte.tms.base.masterdata.dao.BaseOrgDao;
import com.deloitte.tms.base.masterdata.model.BaseOrg;
/**
 * Home object for domain model class BaseOrg.
 * @see com.deloitte.tms.base.masterdata.model
 * @author Hibernate Tools
 */
@Component(BaseOrgDao.BEAN_ID)
public class BaseOrgDaoImpl extends BaseDao<BaseOrg> implements BaseOrgDao{

	
	/**   
	 * @param params
	 * @param pageIndex
	 * @param pageSize
	 * @return  
	 * @see com.deloitte.tms.base.masterdata.dao.BaseOrgDao#findBaseOrgByParams(java.util.Map, java.lang.Integer, java.lang.Integer)  
	 */
	
	@Override
	public DaoPage findBaseOrgByParams(Map params, Integer pageIndex,
			Integer pageSize) {
		StringBuffer query=new StringBuffer();
		Map values=new HashMap();
		buildStrQuery(query, values, params);
		return pageBy(query, values, pageIndex, pageSize);
	//	return null;
	}
	private void buildStrQuery(StringBuffer query,Map values,Map params) {
		query.append(" from BaseOrg where 1=1 ");
		Object value=params.get("status");
		if(value!=null)
		{
			query.append(" and status=:status");
			values.put("status", value);
		}
		Object orgName=params.get("orgName");
		if(orgName!=null&&!"".equals(orgName)){
			query.append(" and orgName like :orgName");
			values.put("orgName", "%"+orgName+"%");
		}
	}
	
	/**   
	 * @param params
	 * @return  
	 * @see com.deloitte.tms.base.masterdata.dao.BaseOrgDao#findBaseOrgByParams(java.util.Map)  
	 */
	
	@Override
	public List<BaseOrg> findBaseOrgByParams(Map params) {
		// TODO Auto-generated method stub
		return null;
	}


	
	/**   
	 * @param orgCode  
	 * @see com.deloitte.tms.base.masterdata.dao.BaseOrgDao#findBaseOrgByCode(java.lang.String)  
	 */
	
	@Override
	public BaseOrg findBaseOrgByCode(String orgCode) {
		StringBuffer query = new StringBuffer();
		Map<String,String> values = new HashMap<String,String>();
		Map<String,String> params = new HashMap<String,String>();
		params.put("orgCode", orgCode);
		buildCustomerQuery(query,values,params);
		BaseOrg entity = null;
		List<BaseOrg> list = findBy(query, values);
		if(!CollectionUtils.isEmpty(list)) {
			entity = list.get(0);
		}
//		if(AssertHelper.isOrNotEmpty_assert(entity)){
//			return entity;
//		}else {
//			return new BaseOrg();
//		}
		return entity;
		
	}


	
	/** 
	 *〈一句话功能简述〉 
	 * 功能详细描述
	 * @param query
	 * @param values
	 * @param params
	 * @see [相关类/方法]（可选）
	 * @since [产品/模块版本] （可选）
	 */
	
	private void buildCustomerQuery(StringBuffer query,
			Map<String, String> values, Map<String, String> params) {
		query.append(" from BaseOrg where 1=1 ");
		Object value=params.get("status");
		Object orgCode=params.get("orgCode");
		if(AssertHelper.isOrNotEmpty_assert(value))
		{
			query.append(" and status=:status");
			values.put("status", (String) value);
		}if(AssertHelper.isOrNotEmpty_assert(orgCode)){
			query.append(" and orgCode=:orgCode");
			values.put("orgCode", (String) orgCode);
		}
	}
	public List<BaseOrg> findAllBaseOrg(){
		StringBuffer query = new StringBuffer();
		Map<String,String> values = new HashMap<String,String>();
		query.append(" from BaseOrg where 1=1 ");
		List<BaseOrg> list = findBy(query, values);
		return list;
	}
	public List<BaseUserOrg> findAllBaseUserOrg(){
		StringBuffer query = new StringBuffer();
		Map<String,String> values = new HashMap<String,String>();
		query.append(" from BaseUserOrg where 1=1 ");
		List<BaseUserOrg> list = findBy(query, values);
		return list;
	}
}

